group:
##################
# Anemoi Files   #
##################

# Push common Anemoi actions
- files:
  - source: sync-files/workflows/pr-utilities/
    dest: .github/workflows/
    deleteOrphaned: true
  - source: sync-files/workflows/python/
    dest: .github/workflows/
    deleteOrphaned: true
  repos: |
    ecmwf/anemoi-datasets
    ecmwf/anemoi-inference
    ecmwf/anemoi-registry
    ecmwf/anemoi-transform
    ecmwf/anemoi-utils


# Push common Anemoi configs
- files:
  - source: sync-files/configs/anemoi/
    dest: ./
  - source: sync-files/configs/general/apache-2-license
    dest: LICENSE
    template:
      year: 2024-2025
      authors: Anemoi Contributors
  - source: sync-files/configs/general/python-dependabot.yml
    dest: .github/dependabot.yml
  repos: |
    ecmwf/anemoi-datasets
    ecmwf/anemoi-docs
    ecmwf/anemoi-inference
    ecmwf/anemoi-registry
    ecmwf/anemoi-transform
    ecmwf/anemoi-utils


# Anemoi Core specific
- files:
  - source: sync-files/configs/general/apache-2-license
    dest: LICENSE
    template:
      year: 2024-2025
      authors: Anemoi Contributors
  - source: sync-files/configs/general/apache-2-license
    dest: graphs/LICENSE
    template:
      year: 2024-2025
      authors: Anemoi Contributors
  - source: sync-files/configs/general/apache-2-license
    dest: models/LICENSE
    template:
      year: 2024-2025
      authors: Anemoi Contributors
  - source: sync-files/configs/general/apache-2-license
    dest: training/LICENSE
    template:
      year: 2024-2025
      authors: Anemoi Contributors
  - source: sync-files/configs/anemoi/CONTRIBUTORS.md
    dest: CONTRIBUTORS.md
  - source: sync-files/configs/anemoi/.github/CODEOWNERS
    dest: .github/CODEOWNERS
  - source: sync-files/configs/anemoi/.github/pull_request_template.md
    dest: .github/pull_request_template.md
  - source: sync-files/configs/anemoi/.gitignore
    dest: .gitignore
  - source: sync-files/configs/python-dependabot.yml
    dest: .github/dependabot.yml
  - source: sync-files/workflows/pr-utilities/
    dest: .github/workflows/
  repos: |
    ecmwf/anemoi-core


# Anemoi Datasets specific
- files:
  - source: sync-files/configs/anemoi/CONTRIBUTORS.md
    dest: CONTRIBUTORS.md
    template:
      repo_name: anemoi-datasets
  - source: sync-files/workflows/downstream/
    dest: .github/workflows/
    template:
      repo_name: anemoi-datasets
  - source: sync-files/workflows/readthedocs/
    dest: .github/workflows/
    template:
      repo_name: anemoi-datasets
  repos: |
    ecmwf/anemoi-datasets


# Anemoi inference specific
- files:
  - source: sync-files/configs/anemoi/CONTRIBUTORS.md
    dest: CONTRIBUTORS.md
    template:
      repo_name: anemoi-inference
  - source: sync-files/workflows/downstream/
    dest: .github/workflows/
    template:
      repo_name: anemoi-inference
  - source: sync-files/workflows/readthedocs/
    dest: .github/workflows/
    template:
      repo_name: anemoi-inference
  repos: |
    ecmwf/anemoi-inference


# Anemoi registry specific
- files:
  - source: sync-files/configs/anemoi/CONTRIBUTORS.md
    dest: CONTRIBUTORS.md
    template:
      repo_name: anemoi-registry
  - source: sync-files/workflows/downstream/
    dest: .github/workflows/
    template:
      repo_name: anemoi-registry
  - source: sync-files/workflows/readthedocs/
    dest: .github/workflows/
    template:
      repo_name: anemoi-registry
  repos: |
    ecmwf/anemoi-registry


# Anemoi transform specific
- files:
  - source: sync-files/configs/anemoi/CONTRIBUTORS.md
    dest: CONTRIBUTORS.md
    template:
      repo_name: anemoi-transform
  - source: sync-files/workflows/downstream/
    dest: .github/workflows/
    template:
      repo_name: anemoi-transform
  - source: sync-files/workflows/readthedocs/
    dest: .github/workflows/
    template:
      repo_name: anemoi-transform
  repos: |
    ecmwf/anemoi-transform


# Anemoi utils specific
- files:
  - source: sync-files/configs/anemoi/CONTRIBUTORS.md
    dest: CONTRIBUTORS.md
    template:
      repo_name: anemoi-utils
  - source: sync-files/workflows/downstream/
    dest: .github/workflows/
    template:
      repo_name: anemoi-utils
  - source: sync-files/workflows/readthedocs/
    dest: .github/workflows/
    template:
      repo_name: anemoi-utils
  repos: |
    ecmwf/anemoi-utils
